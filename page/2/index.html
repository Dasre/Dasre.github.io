<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dasre.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Andy Blog">
<meta property="og:url" content="https://dasre.github.io/page/2/index.html">
<meta property="og:site_name" content="Andy Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Andy Chen">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://dasre.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Andy Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Andy Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/04/04/stopwatch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/04/stopwatch/" class="post-title-link" itemprop="url">簡易碼表設計</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-04 16:26:16" itemprop="dateCreated datePublished" datetime="2020-04-04T16:26:16+08:00">2020-04-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/04/04/stopwatch/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/04/04/stopwatch/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="簡易碼表"><a href="#簡易碼表" class="headerlink" title="簡易碼表"></a>簡易碼表</h1><p>透過setInterval()來固定時間加總秒數。計算啟動時間。</p>
<p>參考code: <a target="_blank" rel="noopener" href="https://codepen.io/dasre/pen/Baodadp">https://codepen.io/dasre/pen/Baodadp</a></p>
<p>以下只說明重要的code。</p>
<hr>
<h1 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h1><h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//count 為方便後面停止setInterval使用</span></span><br><span class="line">count = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(ms === <span class="number">100</span>)&#123;</span><br><span class="line">      ms = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span>(sec === <span class="number">60</span>)&#123;</span><br><span class="line">        sec = <span class="number">0</span>;</span><br><span class="line">        min+=<span class="number">1</span>;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        sec+=<span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      ms+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> re = pad(min,sec,ms);</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">&#x27;time&#x27;</span>).innerText = re;</span><br><span class="line">  &#125;,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>每10毫秒更新目前的時間。<br>並做進位動作。<br>pad()為將&lt;10的數值補為’0X’函式。</p>
<h2 id="stop"><a href="#stop" class="headerlink" title="stop"></a>stop</h2><p><code>clearInterval(count);</code></p>
<h2 id="時間紀錄"><a href="#時間紀錄" class="headerlink" title="時間紀錄"></a>時間紀錄</h2><p>抓取目前的min,sec,ms，傳給pad()輸出目前的分、秒、毫秒，並記錄下來。</p>
<h2 id="reset"><a href="#reset" class="headerlink" title="reset"></a>reset</h2><p>將min, sec, ms歸零，重新計時。<br>並清空時間紀錄。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/03/23/Github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/23/Github/" class="post-title-link" itemprop="url">一電腦使用多組Github帳號設定</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-23 15:20:12" itemprop="dateCreated datePublished" datetime="2020-03-23T15:20:12+08:00">2020-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/03/23/Github/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/23/Github/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="多Github帳號設定"><a href="#多Github帳號設定" class="headerlink" title="多Github帳號設定"></a>多Github帳號設定</h1><p>透過Hostname來決定使用哪一組帳號的SSH Key進行溝通。</p>
<h1 id="SSH生成"><a href="#SSH生成" class="headerlink" title="SSH生成"></a>SSH生成</h1><p>首先我們先使用<code>ssh-keygen</code>指令生成金鑰<br><img src="1.png"></p>
<p>圖中我們的指令為<code>ssh-keygen -t rsa -C &quot;email@gamil.com&quot;</code></p>
<ul>
<li>-t 為加密方法的選擇，我們選擇使用RSA加密</li>
<li>-C 為註解，會加入SSH的金鑰。可做為金鑰持有者的辨識。</li>
</ul>
<p>輸入上述指令後，會分別詢問</p>
<ul>
<li>金鑰存放位置和檔案名稱</li>
<li>是否設置Passphrase（如有輸入，會須重複輸入一次）</li>
</ul>
<p>上述均輸入完畢後，會產生id_rsa和id_rsa.pub（這邊以預設檔名說明）</p>
<ul>
<li>id_rsa 此為私鑰，也就是要自己保管好的密碼。</li>
<li>id_rsa.pub 此為公鑰，也就是對外公開的鑰匙，此會作為與本地端私鑰溝通使用。</li>
</ul>
<hr>
<h1 id="將生成的金鑰複製到Github"><a href="#將生成的金鑰複製到Github" class="headerlink" title="將生成的金鑰複製到Github"></a>將生成的金鑰複製到Github</h1><p>如果使用linux，可以直接使用ssh-copy-id複製。</p>
<p>mac如要使用ssh-copy-id，需使用Homebrew安裝。</p>
<ul>
<li>mac還可以使用pbcopy來複製，指令<code>pbcopy &lt; ~/.ssh/id_rsa.pub</code>。</li>
</ul>
<p>或是去打開檔案複製都可以。</p>
<hr>
<h1 id="設定ssh-config方便選擇對應的git倉庫"><a href="#設定ssh-config方便選擇對應的git倉庫" class="headerlink" title="設定ssh config方便選擇對應的git倉庫"></a>設定ssh config方便選擇對應的git倉庫</h1><p>在金鑰該層目錄，新增一config檔案。</p>
<p>可以使用<code>nano</code>或<code>vim</code>之類編輯都可以，看個人習慣。</p>
<p><code>nano ~/.ssh/config</code></p>
<p>新增下列資訊</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">    HostName github.com</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa</span><br><span class="line"></span><br><span class="line">Host github-another</span><br><span class="line">    HostName github.com</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_new</span><br></pre></td></tr></table></figure>

<ul>
<li>Host 後面的github.com或github-another就是你要連接倉庫的簡稱。</li>
<li>HostName 填HostNmae的domain或IP，因為是連github，所以是github.com。</li>
<li>User 登入SSH的username，個人習慣統一為git。</li>
<li>IdentityFile key的路徑。<br>其他還有Port或ForwardX11等指令。不過我們是連github，所以不需要。</li>
</ul>
<p>設定完成後<br>可以下<code>ssh -T &lt;Host&gt;</code>檢查。<br>ex: <code>ssh -T github-another</code>。</p>
<hr>
<h1 id="Clone與push"><a href="#Clone與push" class="headerlink" title="Clone與push"></a>Clone與push</h1><ul>
<li>Clone: <code>git clone &lt;host-in-ssh-config&gt;:&lt;username&gt;/&lt;repo&gt;</code></li>
<li>Push: <code>git remote set-url origin &lt;host-in-ssh-config&gt;:&lt;username&gt;/&lt;repo&gt;</code></li>
</ul>
<hr>
<h1 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h1><p>以往只有單一一組的github，我們會直接在git的global設定好username和email。</p>
<p>但在有多組的github帳號後，如不想均使用相通的名稱。<br>需先使用<code>git config — global — unset user.name </code>和<code>git config — global — unset user.email</code>取消global設定。</p>
<p>再根據Repo來決定User資料</p>
<ul>
<li><code>git config user.name &quot;userName&quot;</code></li>
<li><code>git config user.email &quot;eamil&quot;</code></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/03/16/GAS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/16/GAS/" class="post-title-link" itemprop="url">使用Google Apps Script(GAS)串接Google Sheets</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-16 16:26:20" itemprop="dateCreated datePublished" datetime="2020-03-16T16:26:20+08:00">2020-03-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/03/16/GAS/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/16/GAS/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Google-Apps-Script"><a href="#Google-Apps-Script" class="headerlink" title="Google Apps Script"></a>Google Apps Script</h1><p>Google Apps Script(GAS)是什麼，可以參考<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Google_Apps_Script">wiki</a>的介紹。但我一般會把它解釋成一個後端，類似nodejs之類的。</p>
<p>在GAS裡面，你可以透過JavaScript去連接Google的各類服務，或是去連接Google的Firebase資料庫也是可以的。這邊我們會使用GAS來串接Google Sheets。</p>
<h2 id="GAS連結Google表單"><a href="#GAS連結Google表單" class="headerlink" title="GAS連結Google表單"></a>GAS連結Google表單</h2><p>要開啟GAS的編輯器，可以從Google表單上方的工具列 <b>工具&gt;指令碼編輯器</b> 或是在 <b>Google雲端硬碟右鍵&gt;更多&gt;Google Apps Script（要先連結GAS應用程式）</b>，開啟後副檔名應該會是gs。</p>
<p>目前的GAS是可以使用es6語法的，但因為要做一些對應的設定，這邊我們會使用較舊的JavaScript語法撰寫。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doPost</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//取得參數</span></span><br><span class="line">  <span class="keyword">var</span> params = <span class="built_in">JSON</span>.parse(e.postData.contents);</span><br><span class="line">  <span class="keyword">var</span> num = params.num;</span><br><span class="line">  <span class="keyword">var</span> one = params.one;</span><br><span class="line">  <span class="keyword">var</span> one_other = params.one_other;</span><br><span class="line">  <span class="keyword">var</span> boss_one = params.boss_one;</span><br><span class="line">  <span class="keyword">var</span> to = params.name;</span><br><span class="line">  <span class="keyword">var</span> date = params.date;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">//sheet資訊</span></span><br><span class="line">  <span class="keyword">var</span> SpreadSheet = SpreadsheetApp.openById(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> Sheet = SpreadSheet.getSheets()[<span class="number">0</span>];</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//setValue...</span></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> ContentService.createTextOutput(params);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述我們撰寫了一個doPost的function。<br>doPost其實就是我們在Call這隻gs檔的API，進行post時會觸發的function。</p>
<p>我們可以先透過e這個參數取得post的資料。<br>接下來透過<code>SpreadsheetApp.openById(&quot;&quot;)</code>選擇要開啟哪個Google表單的檔案，再透過<code>SpreadSheet.getSheets()[0]</code>綁定好選擇的檔案裡面的哪張表(0表示第一張表)。</p>
<p>選擇好表後，就可以透過getRange()取得表的指定格子位置，並透過setValue()或setFormula()方法來將值存入。</p>
<p>最後的return則是要回傳什麼內容。</p>
<h2 id="GAS部署"><a href="#GAS部署" class="headerlink" title="GAS部署"></a>GAS部署</h2><p>在寫完GAS的code後，我們要部署並產生API。<br>選擇<b>發佈&gt;部署爲網路應用程式</b>，將具有應用程式存取權的使用者改爲 “Anyone, even anonymous“ ，並點選部署。</p>
<p>接下來第一次部署會出現權限核對的一些設定。<br>基本上就是<b>核對權限&gt;選擇自己的帳戶&gt;進階&gt;前往&gt;允許</b>。<br>點選完畢後會出現下圖<br><img src="api.png"></p>
<p>那串URL就是你的API路徑。</p>
<hr>
<h2 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h2><ul>
<li><p>在GAS內沒有console.log()，要使用Logger.log()</p>
</li>
<li><p>GAS的goGet()和doPost()方法，不能直接return一個object。但可以轉成JSON回傳，詳細可<a target="_blank" rel="noopener" href="https://developers.google.com/apps-script/guides/content">參考</a>。</p>
</li>
</ul>
<p></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/03/10/Discord/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/10/Discord/" class="post-title-link" itemprop="url">Discord Bot</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-10 15:26:09" itemprop="dateCreated datePublished" datetime="2020-03-10T15:26:09+08:00">2020-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/03/10/Discord/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/10/Discord/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Discord-Bot"><a href="#Discord-Bot" class="headerlink" title="Discord Bot"></a>Discord Bot</h1><p>要製作Discord Bot目前主要有兩個API可以使用。<br>f</p>
<ul>
<li>discord.io (官方維護)</li>
<li>discord.js (民間版本)</li>
</ul>
<p>但從npm上可以發現目前discord.io已經約兩年沒有更新了，如果遇到任何Bug，要等到官方修復可能需要一定的時間。也因此較推薦使用discord.js這個非官方的套件。</p>
<hr>
<h2 id="製作方法"><a href="#製作方法" class="headerlink" title="製作方法"></a>製作方法</h2><ul>
<li>先去discord官方建立一個bot（可參考discord.js上的<a target="_blank" rel="noopener" href="https://discordjs.guide/preparations/setting-up-a-bot-application.html#creating-your-bot">教學</a>)</li>
<li>把bot加入你所要放置的頻道</li>
<li>開始撰寫你的bot<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 讀取discord.js套件</span></span><br><span class="line"><span class="keyword">const</span> Discord = <span class="built_in">require</span>(<span class="string">&#x27;discord.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建立一個Discord client</span></span><br><span class="line"><span class="keyword">const</span> bot = <span class="keyword">new</span> Discord.Client();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 當你要啟動這個bot時，會執行的事情</span></span><br><span class="line">bot.on(<span class="string">&#x27;ready&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Ready!&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在建立一個bot時會取得token，這邊要輸入token</span></span><br><span class="line">bot.login(<span class="string">&#x27;your-token&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>上述輸入完後，就會在你的Discord頻道看到Discord 機器人。</p>
<img src="/2020/03/10/Discord/bot.png" class="">
<p>我這邊因為已經啟動上述的code，所以bot會是線上的狀況，如果沒有執行的話，會顯示離線。</p>
<p>在建立完bot之後，接下來就是要開始監聽輸入的內容。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// message裡面會有使用者輸入的內容和使用者資料等等</span></span><br><span class="line">bot.on(<span class="string">&#x27;message&#x27;</span>, <span class="function"><span class="params">message</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(message.content);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>我們只需要去監聽使用者輸入的內容做相對應得事情。<br>例如使用!作為bot要回覆得行為偵測，<br>接下來就可以使用switch…case的寫法，來判定!後面的內容<br>如果!後面的內容並不是定義好的<br>可以再使用default來回覆錯誤訊息。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/03/05/react-redux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/05/react-redux/" class="post-title-link" itemprop="url">react-redux</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-05 13:07:17" itemprop="dateCreated datePublished" datetime="2020-03-05T13:07:17+08:00">2020-03-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/03/05/react-redux/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/05/react-redux/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="react-redux"><a href="#react-redux" class="headerlink" title="react-redux"></a>react-redux</h1><p>在上一篇redux的文章中，有大致上說明了redux的三個基礎Action、Reducer和Store。這篇文章將說明react如何連結redux。</p>
<hr>
<h2 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h2><p>在上一篇文章中有提到要觸發action，可以透過dispatch來觸發。你要在react用redux提供的dispatch來觸發也沒有問題，但在react-redux中，提供了connect()幫你解決問題。</p>
<p>connect()是一個High Order Component，我們傳入一個component，在經過一些修飾加工，會產生新的component給我們。<br>詳細HOC的功能這邊不多做說明。</p>
<p>一般我們connect會這樣寫</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(mapStateToProps, mapDispatchToProps)(Test)</span><br></pre></td></tr></table></figure>
<p>connect後面的括弧會放mapStateToProps和mapDispatchToProps。</p>
<p>前者就是提供store的資料透過props傳給component，後者則是把dispatch功能提供給component。</p>
<p>最後面Test則是代表我們要傳入的component。</p>
<hr>
<h3 id="mapStateToProps"><a href="#mapStateToProps" class="headerlink" title="mapStateToProps"></a>mapStateToProps</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapStateToProps = <span class="function">(<span class="params">state</span>) =&gt;</span> (&#123;</span><br><span class="line">  center: state.center,</span><br><span class="line">  zoom: state.zoom,</span><br><span class="line">  data: state.data,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>mapStateToProps裡面可以指定這個component要提供儲存在store的哪些資料。</p>
<hr>
<h3 id="mapDispatchToProps"><a href="#mapDispatchToProps" class="headerlink" title="mapDispatchToProps"></a>mapDispatchToProps</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapDispatchToProps = <span class="function"><span class="params">dispatch</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="comment">// dispatching plain actions</span></span><br><span class="line">    increment: <span class="function">() =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;INCREMENT&#x27;</span> &#125;),</span><br><span class="line">    decrement: <span class="function">() =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;DECREMENT&#x27;</span> &#125;),</span><br><span class="line">    reset: <span class="function">() =&gt;</span> dispatch(&#123; <span class="attr">type</span>: <span class="string">&#x27;RESET&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>mapDispatchToProps 基本上寫法也一樣，return一個object說明，每個key是要做什麼action。</p>
<p>上述的mapDispatchToProps是最基本寫法，如果你的mapDispatchToProps裡面有帶參數的，可以參考<a target="_blank" rel="noopener" href="https://react-redux.js.org/using-react-redux/connect-mapdispatch">官方說明</a>。</p>
<hr>
<h3 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h3><p>Provider也是react-redux內提供的，我們會把他寫在最外層，也就是你要與HTML介接的內個JS中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Provider store=&#123;store&#125;&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;/Provider&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>Provider的功用就是要內下層的component可以透過connect取得redux store的資料。</p>
<hr>
<h2 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h2><p>在mapDispatchToProps中，如果沒有要做什麼重新命名或其他行為時，我一般會偷懶直接使用redux action的那個function名稱。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(</span><br><span class="line">  mapStateToProps,</span><br><span class="line">  &#123; getTestData, getCoordinates, getNowSelectData &#125;,</span><br><span class="line">)(Test);</span><br></pre></td></tr></table></figure>
<p>不過如果你有使用eslint的Airbnb code style，他會要求你寫成mapDispatchToProps就是了。</p>
<p>而假使你這個component中，並沒有要使用到redux store的資料或dispatch行為，可以將內個參數改為null。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(</span><br><span class="line">  mapStateToProps,</span><br><span class="line">  <span class="literal">null</span>,</span><br><span class="line">)(Test);</span><br></pre></td></tr></table></figure>







      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/02/24/redux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/24/redux/" class="post-title-link" itemprop="url">redux</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-24 09:50:51" itemprop="dateCreated datePublished" datetime="2020-02-24T09:50:51+08:00">2020-02-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/02/24/redux/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/02/24/redux/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="redux"><a href="#redux" class="headerlink" title="redux"></a>redux</h1><p>redux這個名詞，相信有接觸過react的人應該都會聽過。而在網路上，你也可以收尋到許多redux的詳細教學文章，不管是英文的、中文的都有。之所以想寫這篇文章，主要是覺得官方的文件並不能讓人容易將觀念串連起來，而中文的教學雖然也有，但一開始就看到那麼詳細的內容，有時候會越看越模糊。因此想要嘗試用簡單的話語從官方的範例中進行說明，也強化自己的觀念。</p>
<p>在這篇文章中，不會去介紹redux的歷史、以往的技術等等。我們會從直接從react-redux官方<a target="_blank" rel="noopener" href="https://codesandbox.io/s/9on71rvnyo">範例</a>來進行說明。有些在導入react-redux後不會使用的內容還是會提出來。</p>
<hr>
<h2 id="redux-三個基礎"><a href="#redux-三個基礎" class="headerlink" title="redux 三個基礎"></a>redux 三個基礎</h2><h3 id="Action"><a href="#Action" class="headerlink" title="Action"></a><font color=red>Action</font></h3><p>主要是用來說明要對目前的資料進行什麼行為。</p>
<p>參考範例 /src/redux/actions.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addTodo = <span class="function"><span class="params">content</span> =&gt;</span> (&#123;</span><br><span class="line">  type: ADD_TODO,</span><br><span class="line">  payload: &#123;</span><br><span class="line">    id: ++nextTodoId,</span><br><span class="line">    content</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>這邊抓範例裡面的addTodo來說明。</p>
<p>action又可以分為三個部分</p>
<ul>
<li><p>Action 指的就是</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: ADD_TODO,</span><br><span class="line">  payload: &#123;</span><br><span class="line">    id: ++nextTodoId,</span><br><span class="line">    content</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>這段，type描述要進行什麼行為，payload則是要帶什麼參數去後面更改資料使用。</p>
</li>
<li><p>Action Creator簡單來說就是建立Action的function</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addTodo = <span class="function"><span class="params">content</span> =&gt;</span> (&#123;</span><br><span class="line">  type: ADD_TODO,</span><br><span class="line">  payload: &#123;</span><br><span class="line">    id: ++nextTodoId,</span><br><span class="line">    content</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>上面整段就是一個Action Creator</p>
</li>
<li><p>store.dispatch() 觸發一個定義好的行為。但如果是在react中使用redux，通常我們會採用react-redux提供的connect()。<br>參考範例 /src/components/AddTodo.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> connect(</span><br><span class="line">  <span class="literal">null</span>,</span><br><span class="line">  &#123; addTodo &#125;</span><br><span class="line">)(AddTodo);</span><br></pre></td></tr></table></figure>
<p>關於這部分會等到導入react-redux再進行說明。</p>
</li>
</ul>
<h3 id="Reducer"><a href="#Reducer" class="headerlink" title="Reducer"></a><font color=red>Reducer</font></h3><p>簡單來說就是更新state的地方，會將從action的payload傳進來的參數和目前的state產生一新state。</p>
<p>參考範例 /src/redux/reducers/todo.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initialState = &#123;</span><br><span class="line">  allIds: [],</span><br><span class="line">  byIds: &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span>(<span class="params">state = initialState, action</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span><br><span class="line">    <span class="keyword">case</span> ADD_TODO: &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; id, content &#125; = action.payload;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        allIds: [...state.allIds, id],</span><br><span class="line">        byIds: &#123;</span><br><span class="line">          ...state.byIds,</span><br><span class="line">          [id]: &#123;</span><br><span class="line">            content,</span><br><span class="line">            completed: <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">case</span> TOGGLE_TODO: &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; id &#125; = action.payload;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        byIds: &#123;</span><br><span class="line">          ...state.byIds,</span><br><span class="line">          [id]: &#123;</span><br><span class="line">            ...state.byIds[id],</span><br><span class="line">            completed: !state.byIds[id].completed</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>initialState初始化state資料。下方透過switch case偵測action type來決定要將state進行怎樣的更新，最後再回傳新state。如果state狀態都沒有要更動，就回傳舊的state。</p>
<p>Reducer幾個重點</p>
<ul>
<li>永遠不要更改到舊的state資料，而是要產生新的state。所以這邊有用到ES6的object spread。</li>
<li>reducer是一個pure function，任何的非同步、call api等行為都不應該在此出現，任何有side effect的行為也是。</li>
</ul>
<h3 id="Store"><a href="#Store" class="headerlink" title="Store"></a><font color=red>Store</font></h3><p>串連Action和Reducer使用。</p>
<p>參考範例 /src/redux/store.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore &#125; <span class="keyword">from</span> <span class="string">&quot;redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> rootReducer <span class="keyword">from</span> <span class="string">&quot;./reducers&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> createStore(rootReducer);</span><br></pre></td></tr></table></figure>
<p></p>
<ul>
<li>Redux只會有一個Store。</li>
<li>getState()取得state資料。</li>
<li>dispatch(action)觸發action事件，更新state。</li>
<li>subscribe(listener)監聽事件。</li>
</ul>
<hr>
<h2 id="資料流走向"><a href="#資料流走向" class="headerlink" title="資料流走向"></a>資料流走向</h2><p>觸發action -&gt; store找到createStore所帶入的reducers，並傳入action和舊的state -&gt; 產生新的state或回傳舊的state，store會再整合成一新單一state。</p>
<hr>
<h2 id="補充-reducers合併"><a href="#補充-reducers合併" class="headerlink" title="補充-reducers合併"></a>補充-reducers合併</h2><p>我們在store部分有提到，redux只會有一個store。但假如我們的reducers拆分成多個檔案時，也就是每個reducers只管跟他有關的東西，我們就可以透過redux的combineReducers將他合併起來，並在建立store時，引入合併好的那個reducers即可。</p>
<p>參考範例 /src/redux/reducers/index.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">&quot;redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> visibilityFilter <span class="keyword">from</span> <span class="string">&quot;./visibilityFilter&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> todos <span class="keyword">from</span> <span class="string">&quot;./todos&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> combineReducers(&#123; todos, visibilityFilter &#125;);</span><br></pre></td></tr></table></figure>
<p>關於combineReducers時，也可以給他不同key值，例如寫成</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  a: todos,</span><br><span class="line">  b: visibilityFilter</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/02/17/webpack2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/17/webpack2/" class="post-title-link" itemprop="url">webpack(2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-17 08:45:25" itemprop="dateCreated datePublished" datetime="2020-02-17T08:45:25+08:00">2020-02-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/02/17/webpack2/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/02/17/webpack2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>銜接前面一篇的webpack安裝與簡易配置，這次說明webpack的loader和plugin。</p>
<h2 id="webpack-loader"><a href="#webpack-loader" class="headerlink" title="webpack loader"></a>webpack loader</h2><p>我們前面entry的index.js檔案，有使用到es6的語法，雖然目前市面上的browser大多對es6的語法都可以解析了，但並不是全部都如此，也因此這邊會使用到<a target="_blank" rel="noopener" href="https://github.com/babel/babel-loader">babel-loader</a>，幫助我們把es6的語法轉成es5。</p>
<p>index.js</p>
<img src="/2020/02/17/webpack2/1.png" class="">
<p>原本打包完的檔案內容</p>
<img src="/2020/02/17/webpack2/1.png" class="">

<hr>
<h2 id="安裝方法"><a href="#安裝方法" class="headerlink" title="安裝方法"></a>安裝方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D babel-loader @babel&#x2F;core @babel&#x2F;preset-env</span><br></pre></td></tr></table></figure>

<p>安裝完後，我們要進webpack.config.js進行設定。在rules的方面，我們可以直接參考github上的使用說明。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: &#x2F;\.m?js$&#x2F;,</span><br><span class="line">      exclude: &#x2F;(node_modules|bower_components)&#x2F;,</span><br><span class="line">      use: &#123;</span><br><span class="line">        loader: &#39;babel-loader&#39;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          presets: [&#39;@babel&#x2F;preset-env&#39;]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但我個人喜歡寫成這樣</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const babel &#x3D; &#123;</span><br><span class="line">  test: &#x2F;\.m?js$&#x2F;,</span><br><span class="line">  exclude: &#x2F;(node_modules|bower_components)&#x2F;,</span><br><span class="line">  use: &#123;</span><br><span class="line">    loader: &#39;babel-loader&#39;,</span><br><span class="line">    options: &#123;</span><br><span class="line">      presets: [&#39;@babel&#x2F;preset-env&#39;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module: &#123;</span><br><span class="line">    rules: [ babel ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>這樣寫的好處是可以快速的找到原本定義的內容，且如果當你有不只一個loader要使用時，較不會rules下面有一長串的內容。</p>
<p>我們剛剛安裝babel時，安裝了3個babel的package。</p>
<ul>
<li>babel-loader基本上就是告訴webpack遇到什麼檔案需要使用我這個loader來編譯。</li>
<li>@babel/core，babel的核心，使用babel的API。</li>
<li>@babel/preset-env，可以根據我們對於瀏覽器的設定，來自動尋找要使用的babel版本。或是直接使用最新版的babel即可。</li>
</ul>
<p>上述webpack設定內容</p>
<ul>
<li>test是正規表達式，告訴module我們遇到.js的檔案時，要使用下面的設定來編譯。</li>
<li>exclude是表示要排除掉哪些檔案，這邊預設已經排除掉node_modules，如果還要排除掉其他的資料夾，如上述的code “|folder”。</li>
<li>use裡面的loader是告訴webpack遇到.js檔案要使用哪個loader來進行處理。options就是其他的細部設定，可以設定瀏覽器版本等等，更多詳細可以參考<a target="_blank" rel="noopener" href="https://babeljs.io/docs/en/babel-preset-env">連結</a>。</li>
</ul>
<p>經過babel-loader編譯完成後，內容會變更</p>
<img src="/2020/02/17/webpack2/3.png" class="">
<p>原本的const宣告變數方法變成var，箭頭函式變成原本function(){}的寫法。</p>
<hr>
<h2 id="SCSS-to-CSS"><a href="#SCSS-to-CSS" class="headerlink" title="SCSS to CSS"></a>SCSS to CSS</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/02/16/webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/16/webpack/" class="post-title-link" itemprop="url">webpack安裝與簡易配置(1)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-16 18:40:32" itemprop="dateCreated datePublished" datetime="2020-02-16T18:40:32+08:00">2020-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/02/16/webpack/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/02/16/webpack/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><p>以往我們在開發網頁時，基本上就是HTML、CSS和JavaScript三元素。然而在許多的Preprocess框架出現後，開始出現改變。這些的preprocess框架如Sass、Vue等等都是，以Sass為例，他可以有效的幫助我們維護CSS，但瀏覽器本身並不了解Sass，這時候我們就可以透過webpack幫我們把Sass轉譯成CSS。或是說目前常用的ES6語法，也可以透過webpack幫助我們轉譯成browser看得懂的語法。</p>
<hr>
<h2 id="webpack安裝"><a href="#webpack安裝" class="headerlink" title="webpack安裝"></a>webpack安裝</h2><p>要使用webpack之前，請先在專案中產生package.json檔案，可以透過</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>
<p>產生。這邊是使用之前介紹過的express generator產生專案。</p>
<p>接下來就可以安裝webpack了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli --save-dev</span><br></pre></td></tr></table></figure>
<p>此時，package.json內應該就會有剛剛安裝的webpack版本資訊。</p>
<img src="/2020/02/16/webpack/1.png" class="">

<p>接下來我們就是要設定webpack的設定檔。</p>
<hr>
<h2 id="webpack設定"><a href="#webpack設定" class="headerlink" title="webpack設定"></a>webpack設定</h2><p>通常一般會在與package.json同一層的目錄下建立一webpack.config.js檔案。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    <span class="string">&#x27;main&#x27;</span>: <span class="string">&#x27;./public/javascripts/index.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;public&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;[name].bundle.js&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>webpack的設定檔中，大致上有4個屬性可以使用。<br>其中entry和output是一定要填寫的。</p>
<ul>
<li>entry裡面就是放我們要讀的檔案，如果要讀多個檔案，可以使用object的key-value方式來填寫。這邊的檔案可以使用相對路徑，當然要使用path套件來取得絕對路徑也是可以。</li>
<li>output則是檔案經過webpack打包後的存放的路徑和檔名。這邊要使用絕對路徑，所以可以透過path套件來取得目前資料夾的路徑。<ul>
<li>filename的部分，如果像上述[name]的寫法，name會輸出成entry所輸入key的內容。</li>
<li>通常經過webpack打包完的檔案，我們會使用bundle.js。關於module、chunk、bundle的後續會再說明。</li>
</ul>
</li>
<li>loader的部分，在上方的設定檔要寫成module。我個人是把它想成一個處理器的概念（翻意的功能）（負責”讀”的功能）。他可以幫我們把任何東西轉換成JavaScript，讓webpack能看得懂。</li>
<li>plugins顧名思義就是外掛的意思。上方的loader部分有提到，loader只會做”讀”的動作，但有時候我們會希望webpack幫我們做一些其他動作（ex:寫）之類的，這時候就需要透過plugins這個欄位。有些webpack的套件需要傳入參數，這時就可以在plugin裡設定。</li>
<li>mode為設定專案為production或development。</li>
</ul>
<hr>
<h2 id="webpack在package-json設定"><a href="#webpack在package-json設定" class="headerlink" title="webpack在package.json設定"></a>webpack在package.json設定</h2><p>在設定完webpack.config.js後，我們要在package.json中的scripts設定webpack啟用的指令。<br>一般我會設定三個：</p>
<ul>
<li>“build”: “webpack –mode=production”</li>
<li>“build:dev”: “webpack –mode=development”</li>
<li>“watch”: “webpack –mode=development –watch”</li>
</ul>
<p>關於mode後面的production和development主要是讓module在打包的時候會選擇使用哪種方式。production通常會讓打包出來的檔案較小，而development主要是要加速開發的速度，也因此在檔案壓縮得部分較小，會盡快把需要編譯的東西編譯完。</p>
<p>watch則是不必每次修改檔案重新使用webpack打包時，需要重新下指令，方便開發時減少指令的輸入。</p>
<hr>
<h2 id="webpack5-Asset-Modules"><a href="#webpack5-Asset-Modules" class="headerlink" title="webpack5 Asset Modules"></a>webpack5 Asset Modules</h2><p>在webpack5之前，我們知道假使我們要搬移檔案到框架指定的output資料夾，我們要透過<code>file-loader</code>來幫助我們實現。但在webpack5後，webpack將一些我們常用於處理靜態檔案的loader加入webpack中，也就是我們不需要額外去配置這些loader。</p>
<p>目前有配置4種Asset Modules</p>
<ul>
<li>asset/resource 對應的是 <code>file-loader</code></li>
<li>asset/inline 對應的是 <code>url-loader</code></li>
<li>asset/source 對應的是 <code>raw-loader</code></li>
<li>asset則會根據設定（預設是8kb）抉擇檔案會變成inline（像圖片就是轉成base64）還是獨立的檔案。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://webpack.js.org/guides/asset-modules/">參考連結</a></p>
<hr>
<h2 id="補充：關於NODE-EVN問題"><a href="#補充：關於NODE-EVN問題" class="headerlink" title="補充：關於NODE_EVN問題"></a>補充：關於NODE_EVN問題</h2><p>一般來說，我們會設定開發過程中和部署的時候做不同的行為，如抓取不同位置的API、ERROR抱錯的產生等等。我們大多都會使用NODE_ENV來設定。</p>
<p>也因此在package.json中的scripts中，我們可能會設定執行甚麼指令會做什麼環境設定。</p>
<p>在linux和mac中，設定的方式為</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export NODE_ENV&#x3D;production</span><br></pre></td></tr></table></figure>
<p>windows為</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set NODE_ENV&#x3D;production</span><br></pre></td></tr></table></figure>
<p>也因此如果要跨平台使用，我們可以借用cross-env套件。<br>安裝方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cross-env --save-dev</span><br></pre></td></tr></table></figure>

<p>而在webpack 4後，我們package.json的scripts設定，<code>--mode production</code>和<code>--mode development</code>其實就會幫我們分別設定NODE_ENV=production或development。<br>但如果還有其他環境的話，還是可以透過<code>cross-env NODE_ENV=&quot;env&quot;</code>來進行設定了</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/02/10/express/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/10/express/" class="post-title-link" itemprop="url">express重點筆記 & 快速複習</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-10 23:16:50" itemprop="dateCreated datePublished" datetime="2020-02-10T23:16:50+08:00">2020-02-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/02/10/express/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/02/10/express/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="express"><a href="#express" class="headerlink" title="express"></a>express</h1><h2 id="App-js文件配置"><a href="#App-js文件配置" class="headerlink" title="App.js文件配置"></a>App.js文件配置</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入第三方middleware package</span></span><br><span class="line"><span class="comment">//引入http-errors套件</span></span><br><span class="line"><span class="keyword">var</span> createError = <span class="built_in">require</span>(<span class="string">&#x27;http-errors&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入express套件</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入path套件</span></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入cookie-parser套件</span></span><br><span class="line"><span class="comment">//接收到cookie資料做解析</span></span><br><span class="line"><span class="keyword">var</span> cookieParser = <span class="built_in">require</span>(<span class="string">&#x27;cookie-parser&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入morgan套件</span></span><br><span class="line"><span class="comment">//可以記錄各種事件資料</span></span><br><span class="line"><span class="comment">//例如進行get 或 post等行為</span></span><br><span class="line"><span class="keyword">var</span> logger = <span class="built_in">require</span>(<span class="string">&#x27;morgan&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//連接透過express.Router()產生實例的router</span></span><br><span class="line"><span class="keyword">var</span> indexRouter = <span class="built_in">require</span>(<span class="string">&#x27;./routes/index&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> usersRouter = <span class="built_in">require</span>(<span class="string">&#x27;./routes/users&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"></span><br><span class="line"><span class="comment">//模板引擎 這邊使用pug 要使用ejs將pug換成ejs</span></span><br><span class="line"><span class="comment">// view engine setup</span></span><br><span class="line">app.set(<span class="string">&#x27;views&#x27;</span>, path.join(__dirname, <span class="string">&#x27;views&#x27;</span>));</span><br><span class="line">app.set(<span class="string">&#x27;view engine&#x27;</span>, <span class="string">&#x27;pug&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.use(logger(<span class="string">&#x27;dev&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//可以透過json或一般的字串取得get post等資料</span></span><br><span class="line">app.use(express.json());</span><br><span class="line">app.use(express.urlencoded(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br><span class="line">app.use(cookieParser());</span><br><span class="line"><span class="comment">//靜態資料 抓到根目錄/public 資料夾</span></span><br><span class="line">app.use(express.static(path.join(__dirname, <span class="string">&#x27;public&#x27;</span>)));</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用上方引入的./routes/index 來管理根目錄router</span></span><br><span class="line">app.use(<span class="string">&#x27;/&#x27;</span>, indexRouter);</span><br><span class="line"><span class="comment">//使用上方引入的./routes/user 來管理user router</span></span><br><span class="line">app.use(<span class="string">&#x27;/users&#x27;</span>, usersRouter);</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果上方的router都沒進入，抓取錯誤</span></span><br><span class="line"><span class="comment">//透過http-errors套件顯示404錯誤</span></span><br><span class="line"><span class="comment">//也可以自定義404錯誤要顯示的title，這邊title定為&quot;This item is not exist!&quot;</span></span><br><span class="line"><span class="comment">//要顯示其他訊息 將404改成其他http狀態碼</span></span><br><span class="line"><span class="comment">// catch 404 and forward to error handler</span></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>) </span>&#123;</span><br><span class="line">  next(createError(<span class="number">404</span>, <span class="string">&#x27;This item is not exist!&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//錯誤的處理</span></span><br><span class="line"><span class="comment">//預設的處理方式是僅在開發的過程中提供錯誤訊息</span></span><br><span class="line"><span class="comment">// error handler</span></span><br><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">err, req, res, next</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// set locals, only providing error in development</span></span><br><span class="line">  res.locals.message = err.message;</span><br><span class="line">  res.locals.error = req.app.get(<span class="string">&#x27;env&#x27;</span>) === <span class="string">&#x27;development&#x27;</span> ? err : &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// render the error page</span></span><br><span class="line">  res.status(err.status || <span class="number">500</span>);</span><br><span class="line">  res.render(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = app;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>上述為express App.js的默認設定。<br></br></p>
<h3 id="但在實際上，express-generator產生的專案，package-json內npm-start實際上是去執行”node-bin-www”，也就是執行bin資料夾裡www的檔案。下面簡單紀錄www文件配置。"><a href="#但在實際上，express-generator產生的專案，package-json內npm-start實際上是去執行”node-bin-www”，也就是執行bin資料夾裡www的檔案。下面簡單紀錄www文件配置。" class="headerlink" title="但在實際上，express-generator產生的專案，package.json內npm start實際上是去執行”node ./bin/www”，也就是執行bin資料夾裡www的檔案。下面簡單紀錄www文件配置。"></a>但在實際上，express-generator產生的專案，package.json內npm start實際上是去執行”node ./bin/www”，也就是執行bin資料夾裡www的檔案。下面簡單紀錄www文件配置。</h3><hr>
<h2 id="bin-www文件配置"><a href="#bin-www文件配置" class="headerlink" title="bin/www文件配置"></a>bin/www文件配置</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Module dependencies.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//有載入上述說明的app.js檔設定</span></span><br><span class="line"><span class="keyword">var</span> app = <span class="built_in">require</span>(<span class="string">&#x27;../app&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> debug = <span class="built_in">require</span>(<span class="string">&#x27;debug&#x27;</span>)(<span class="string">&#x27;expr:server&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Get port from environment and store in Express.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//設定port 如果環境有預設使用環境預設的，沒有就使用3000 port</span></span><br><span class="line"><span class="keyword">var</span> port = normalizePort(process.env.PORT || <span class="string">&#x27;3000&#x27;</span>);</span><br><span class="line">app.set(<span class="string">&#x27;port&#x27;</span>, port);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Create HTTP server.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer(app);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Listen on provided port, on all network interfaces.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">server.listen(port);</span><br><span class="line">server.on(<span class="string">&#x27;error&#x27;</span>, onError);</span><br><span class="line">server.on(<span class="string">&#x27;listening&#x27;</span>, onListening);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Normalize a port into a number, string, or false.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">normalizePort</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> port = <span class="built_in">parseInt</span>(val, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">isNaN</span>(port)) &#123;</span><br><span class="line">    <span class="comment">// named pipe</span></span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (port &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// port number</span></span><br><span class="line">    <span class="keyword">return</span> port;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Event listener for HTTP server &quot;error&quot; event.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onError</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (error.syscall !== <span class="string">&#x27;listen&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> error;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> bind = <span class="keyword">typeof</span> port === <span class="string">&#x27;string&#x27;</span></span><br><span class="line">    ? <span class="string">&#x27;Pipe &#x27;</span> + port</span><br><span class="line">    : <span class="string">&#x27;Port &#x27;</span> + port;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// handle specific listen errors with friendly messages</span></span><br><span class="line">  <span class="keyword">switch</span> (error.code) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;EACCES&#x27;</span>:</span><br><span class="line">      <span class="built_in">console</span>.error(bind + <span class="string">&#x27; requires elevated privileges&#x27;</span>);</span><br><span class="line">      process.exit(<span class="number">1</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;EADDRINUSE&#x27;</span>:</span><br><span class="line">      <span class="built_in">console</span>.error(bind + <span class="string">&#x27; is already in use&#x27;</span>);</span><br><span class="line">      process.exit(<span class="number">1</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> error;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Event listener for HTTP server &quot;listening&quot; event.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onListening</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> addr = server.address();</span><br><span class="line">  <span class="keyword">var</span> bind = <span class="keyword">typeof</span> addr === <span class="string">&#x27;string&#x27;</span></span><br><span class="line">    ? <span class="string">&#x27;pipe &#x27;</span> + addr</span><br><span class="line">    : <span class="string">&#x27;port &#x27;</span> + addr.port;</span><br><span class="line">  debug(<span class="string">&#x27;Listening on &#x27;</span> + bind);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="express-router上個人常用的指令"><a href="#express-router上個人常用的指令" class="headerlink" title="express router上個人常用的指令"></a>express router上個人常用的指令</h2><h3 id="req-gt-request"><a href="#req-gt-request" class="headerlink" title="req -&gt; request"></a>req -&gt; request</h3><h3 id="res-gt-response"><a href="#res-gt-response" class="headerlink" title="res -&gt; response"></a>res -&gt; response</h3><ul>
<li>req.params<ul>
<li>取得路徑參數值</li>
<li>ex <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;user/:number&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> num = req.params.number;</span><br><span class="line">    res.json(&#123;<span class="string">&quot;number&quot;</span>: num&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>res.json()<ul>
<li>輸出json資料</li>
</ul>
</li>
<li>res.render()<ul>
<li>渲染指定畫面</li>
</ul>
</li>
<li>res.redirect()<ul>
<li>網址重新導向</li>
</ul>
</li>
</ul>
<p>其餘大致上是邏輯的處理。</p>
<hr>
<h2 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h2><ul>
<li>req.params. …<ul>
<li>撈出路由設定的資料</li>
</ul>
</li>
<li>req.query. …<ul>
<li>取得網址的參數</li>
</ul>
</li>
<li>app.use()<ul>
<li>使用middleware</li>
<li>類似一層一層的過濾，中間可以處理http的request、response或一些檢查動作等等。</li>
<li><a target="_blank" rel="noopener" href="https://expressjs.com/zh-tw/guide/writing-middleware.html">參考</a></li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://dasre.github.io/2020/02/04/ESLint/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Andy Chen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Andy Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/02/04/ESLint/" class="post-title-link" itemprop="url">ESLint 安裝與使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-04 21:24:32" itemprop="dateCreated datePublished" datetime="2020-02-04T21:24:32+08:00">2020-02-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-02-28 22:44:58" itemprop="dateModified" datetime="2022-02-28T22:44:58+08:00">2022-02-28</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/02/04/ESLint/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/02/04/ESLint/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ESLint-安裝與使用"><a href="#ESLint-安裝與使用" class="headerlink" title="ESLint 安裝與使用"></a>ESLint 安裝與使用</h1><p>ESLint是一個code的檢查工具，他可以幫我們檢查我們code是否符合我們所設定的規範，並指出在哪裡。而code有著一定的規範，可以讓我們在團隊開發中，有著統一的標準，讓整個團隊開發更一致；對於個人則是可以讓我們學習許多資深開發者的想法，有助於個人程式碼攥寫的提升。</p>
<hr>
<h2 id="ESLint-安裝"><a href="#ESLint-安裝" class="headerlink" title="ESLint 安裝"></a>ESLint 安裝</h2><p>自己較常是全域安裝</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint -g</span><br></pre></td></tr></table></figure>
<p>要注意ESLint對於node和npm版本有要求，如果不符合ESLint所要求的版本，請將node和npm安裝到目前的穩定版本。</p>
<img src="/2020/02/04/ESLint/2.png" class="">
<p>一般我會使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install npm -g</span><br></pre></td></tr></table></figure>
<p>將npm重新安裝<br>再透過</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install n -g</span><br></pre></td></tr></table></figure>
<p>安裝n模組<br>這個n模組其實就是node的版本管理工具<br><br><br>可參考<a target="_blank" rel="noopener" href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm#osx-or-linux-node-version-managers">官方介紹</a>&amp;<a target="_blank" rel="noopener" href="https://github.com/tj/n">n模組</a><br><br><br>在中國的SegmentFault也看到一篇不錯的說明，有興趣的可以<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000016956077">參考</a></p>
<p><b><i>請注意上述node版本更新不適用windows上，windows上請直接下載最新版的node並進行覆蓋，或參考官方說明文件，如何在windows上安裝多版本node</i></b></p>
<hr>
<h2 id="ESLint建置"><a href="#ESLint建置" class="headerlink" title="ESLint建置"></a>ESLint建置</h2><p>在專案中，使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --init</span><br></pre></td></tr></table></figure>
<p>建置.eslintrc.js文件</p>
<img src="/2020/02/04/ESLint/1.png" class="">
<p>建置過程中會問一些設定的問題，根據選項去選擇即可。至於style guide部分，有三種規範可以使用。分別是</p>
<ul>
<li>Google</li>
<li>Airbnb</li>
<li>Standard</li>
</ul>
<p>其中Airbnb規範最嚴謹，Google次之，個人是選擇Airbnb。關於Airbnb的規範，可參考<br>此<a target="_blank" rel="noopener" href="https://github.com/airbnb/javascript">連結</a>。目前已經有繁體中文版，上方連結可找到。</p>
<p>在選擇完規範後，會選擇要以yaml、js還是json儲存規範，這邊選擇js。</p>
<p>重開安裝eslint的專案，在問題部分就會提醒你code哪邊不符合規範。</p>
<img src="/2020/02/04/ESLint/3.png" class="">
<p>比如說括號前後要空格，或是props參數沒用到等等。</p>
<p>在.eslintrc.js的文件中，會有許多的設定。</p>
<ul>
<li>parser是解析器，可以根據專案設定不同。</li>
<li>extends可以設定一些設定好的規範，如前面提到的Airbnb規範，就是寫在extends裡。</li>
<li>rules是指額外的規則，像上方圖片裡面有一條提到js文件裡面不能寫JSX，這個問題我們即可在reles加入<code>&quot;react/jsx-filename-extension&quot;: [1, &#123; &quot;extensions&quot;: [&quot;.js&quot;, &quot;.jsx&quot;] &#125;],</code>來解決。</li>
<li>ecmaFeatures是設定可以使用哪些額外功能，像可以使用JSX等等。</li>
<li>plugins使用一些額外的第三方套件。</li>
<li>env環境，個人主要在browser和node上。<br>關於eslint文件設定方法和參數設定，可參考<a target="_blank" rel="noopener" href="https://eslint.org/docs/user-guide/configuring">連結</a>。</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Andy Chen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">35</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Dasre" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Dasre" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:an5566x@gmail.com" title="E-Mail → mailto:an5566x@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-tw" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Andy Chen</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://Dasre-blog.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
